<!DOCTYPE HTML>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="css/schedule-table.css">
</head>
<body>

    <!-- http://www.google.co.jp/imgres?imgurl=http://3.bp.blogspot.com/-_Z2JSqzYSQg/U7SAfJDdv5I/AAAAAAAACpg/Wtg7Obh3EWQ/s1600/Week_Calendar_iPad_5.png&imgrefurl=http://www.applecontroll.com/2014/07/week-calendar-releases-new-update-for.html&h=1200&w=1600&tbnid=JxomRI4HMJq-wM:&zoom=1&docid=DjDbs5oJYbgvMM&ei=2Y3MVJbOLoHf8AX8mIK4CQ&tbm=isch&ved=0CEAQMygaMBo -->

    <div class="st">

        <div class="st-header">
            <div class="st-title-scale"></div>
            <div class="st-title">Counseling1</div>
            <div class="st-title">Counseling2</div>
            <div class="st-title">Counseling3</div>
            <div class="st-title">Counseling4</div>
            <div class="st-title">Counseling5</div>
            <div class="st-title">Counseling6</div>
            <div class="st-title">Counseling7</div>
        </div>

        <div class="st-columns">
            <div class="st-column st-column-scale">
                <div class="st-cell-scale">10:00</div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale">11:00</div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale">12:00</div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale">13:00</div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale">14:00</div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale">15:00</div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale">16:00</div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale">17:00</div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale">18:00</div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
                <div class="st-cell-scale"></div>
            </div>
            <div class="st-draggable">
                <div class="st-column" data-id="1">
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                </div><div class="st-column" data-id="2">
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                </div><div class="st-column" data-id="3">
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                </div><div class="st-column" data-id="3">
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                </div><div class="st-column" data-id="3">
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                </div><div class="st-column" data-id="3">
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                </div><div class="st-column" data-id="3">
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell st-cell-just"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                    <div class="st-cell"></div>
                </div>

                <div class="st-schedule" style="top: 0px; left: 0px; height: 120px;">
                      <div class="label">入室中</div>
                      <div class="content">
                            Tanaka Hanako<br/>
                            00-0000-0000<br/>
                            HB0000001<br/>
                            HP0000001<br/>
                      </div>
                </div>
                <div class="st-schedule red" style="top: 240px; left: 200px; height: 240px;">
                      <div class="label">入室中</div>
                      <div class="content">
                            Tanaka Hanako<br/>
                            00-0000-0000<br/>
                            HB0000001<br/>
                            HP0000001<br/>
                      </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/jquery.min.js"></script>
    <script>
        $(function() {

            // 1列の幅
            var $cell = $('.st-cell'),
                cellWidth = $cell.outerWidth(),
                cellHeight = $cell.outerHeight();

            $('.st-schedule').draggable({
                grid: [ cellWidth, cellHeight ],
                opacity: 0.7,
                zIndex: 1000,
                containment: $('.st-draggable'),
                stop: function() {
                    var xIndex = Math.floor($(this).position().left / cellWidth);
                    var columnId = $('.st-column[data-id]:eq(' + xIndex + ')').data('id');
                    console.log("x index: " + xIndex);
                    console.log("column id: " + columnId);

                    var yIndex = Math.floor($(this).position().top / cellHeight);
                    console.log("y index: " + yIndex);
                }
            });
        });
    </script>

</body>
</html>